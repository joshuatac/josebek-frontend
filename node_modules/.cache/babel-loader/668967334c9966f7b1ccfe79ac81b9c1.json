{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\src\\\\containers\\\\CheckoutPage\\\\index.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { IoLogoClosedCaptioning, IoLogoFacebook } from 'react-icons/io';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAddress } from '../../actions';\nimport Layout from '../../components/Layout';\nimport { MaterialButton, MaterialInput, Anchor } from '../../components/MaterialUI';\nimport PriceDetails from '../../components/PriceDetails';\nimport AddressForm from './AddressForm';\nimport './style.css';\n/**\r\n * @author\r\n * @function CheckoutPage\r\n **/\n\nvar CheckoutStep = function CheckoutStep(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkoutStep\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: props.onClick,\n    className: \"checkoutHeader \".concat(props.active && 'active'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stepNumber\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 6\n    }\n  }, props.stepNumber), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stepTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 6\n    }\n  }, props.title))), props.body && props.body);\n};\n\nvar CheckoutPage = function CheckoutPage(props) {\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var auth = useSelector(function (state) {\n    return state.auth;\n  });\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      newAddress = _useState2[0],\n      setNewAddress = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      address = _useState4[0],\n      setAddress = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      confirmAddress = _useState6[0],\n      setConfirmAddress = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedAddress = _useState8[0],\n      setSelectedAddress = _useState8[1];\n\n  var onAddressSubmit = function onAddressSubmit() {};\n\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n\n  var selectAddress = function selectAddress(addr) {\n    console.log(addr);\n    var updatedAddress = address.map(function (adr) {\n      return adr._id === addr._id ? _objectSpread({}, adr, {\n        selected: true\n      }) : _objectSpread({}, adr, {\n        selected: false\n      });\n    });\n    setAddress(updatedAddress);\n  };\n\n  var confirmDeliverAddress = function confirmDeliverAddress(addr) {\n    setSelectedAddress(addr);\n    setConfirmAddress(true);\n  };\n\n  var enableAddressEditForm = function enableAddressEditForm(addr) {\n    var updatedAddress = address.map(function (adr) {\n      return adr._id === addr._id ? _objectSpread({}, adr, {\n        edit: true\n      }) : _objectSpread({}, adr, {\n        edit: false\n      });\n    });\n    setAddress(updatedAddress);\n  };\n\n  useEffect(function () {\n    auth.authenticate && dispatch(getAddress());\n  }, [auth.authenticate]);\n  useEffect(function () {\n    var address = user.address.map(function (adr) {\n      return _objectSpread({}, adr, {\n        selected: false,\n        edit: false\n      });\n    });\n    setAddress(address);\n  }, [user.address]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cartContainer\",\n    style: {\n      alignItems: 'flex-start'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkoutContainer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutStep, {\n    stepNumber: '1',\n    title: 'Login',\n    active: !auth.authenticate,\n    body: auth.authenticate ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loggedInId\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: 500\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 10\n      }\n    }, auth.user.fullName), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: 500\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 10\n      }\n    }, auth.user.email)) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Email\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 10\n      }\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(CheckoutStep, {\n    stepNumber: '2',\n    title: 'DELIVERY ADDRESS',\n    active: !confirmAddress,\n    body: /*#__PURE__*/React.createElement(React.Fragment, null, confirmAddress ? 'We are going to show address' : address.map(function (adr) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flexRow addressContainer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flexRow sb addressInfo\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onClick: function onClick() {\n          return selectAddress(adr);\n        },\n        name: \"address\",\n        type: \"radio\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flexRow sb addressinfo\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"addressName\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }\n      }, adr.name), ' ', \"\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"addressType\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 16\n        }\n      }, adr.addressType), ' ', \"\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n        classname: \"addressMobileNumber\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 16\n        }\n      }, adr.mobileNumber)), /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }\n      }, adr.address), adr.selected && /*#__PURE__*/React.createElement(Anchor, {\n        name: \"EDIT\",\n        onClick: function onClick() {\n          return enableAddressEditForm(adr);\n        },\n        style: {\n          fontWeight: '500',\n          color: '#2874f0'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fullAddress\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 14\n        }\n      }, adr.address, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 29\n        }\n      }), ' ', \"\".concat(adr.state, \" - \").concat(adr.pinCode))), adr.selected && /*#__PURE__*/React.createElement(MaterialButton, {\n        title: \"DELIVERY HERE\",\n        onClick: function onClick() {\n          return confirmDeliverAddress(adr);\n        },\n        style: {\n          width: '250px  '\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 14\n        }\n      }));\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 6\n    }\n  }), confirmAddress ? null : newAddress ? /*#__PURE__*/React.createElement(AddressForm, {\n    onSubmitForm: onAddressSubmit,\n    onCancel: function onCancel() {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(CheckoutStep, {\n    stepNumber: \"+\",\n    title: \"ADD NEW ADDRESS\",\n    active: false,\n    onClick: function onClick() {\n      return setNewAddress(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CheckoutStep, {\n    stepNumber: '3',\n    title: 'ORDER SUMMARY',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(CheckoutStep, {\n    stepNumber: '4',\n    title: 'PAYMENT OPTIONS ',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(PriceDetails, {\n    totalItem: Object.keys(cart.cartItems).reduce(function (qty, key) {\n      return qty + cart.cartItems[key].qty;\n    }, 0),\n    totalPrice: Object.keys(cart.cartItems).reduce(function (totalPrice, key) {\n      var _cart$cartItems$key = cart.cartItems[key],\n          price = _cart$cartItems$key.price,\n          qty = _cart$cartItems$key.qty;\n      return totalPrice + price * qty;\n    }, 0),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  })));\n};\n\nexport default CheckoutPage;","map":{"version":3,"sources":["C:/Users/development/Desktop/josebek store/frontend-app/src/containers/CheckoutPage/index.js"],"names":["React","useEffect","useState","IoLogoClosedCaptioning","IoLogoFacebook","useDispatch","useSelector","getAddress","Layout","MaterialButton","MaterialInput","Anchor","PriceDetails","AddressForm","CheckoutStep","props","onClick","active","stepNumber","title","body","CheckoutPage","user","state","auth","dispatch","newAddress","setNewAddress","address","setAddress","confirmAddress","setConfirmAddress","selectedAddress","setSelectedAddress","onAddressSubmit","cart","selectAddress","addr","console","log","updatedAddress","map","adr","_id","selected","confirmDeliverAddress","enableAddressEditForm","edit","authenticate","alignItems","fontWeight","fullName","email","name","addressType","mobileNumber","color","pinCode","width","Object","keys","cartItems","reduce","qty","key","totalPrice","price"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { IoLogoClosedCaptioning, IoLogoFacebook } from 'react-icons/io';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAddress } from '../../actions';\r\nimport Layout from '../../components/Layout';\r\nimport {\r\n\tMaterialButton,\r\n\tMaterialInput,\r\n\tAnchor,\r\n} from '../../components/MaterialUI';\r\nimport PriceDetails from '../../components/PriceDetails';\r\nimport AddressForm from './AddressForm';\r\nimport './style.css';\r\n/**\r\n * @author\r\n * @function CheckoutPage\r\n **/\r\n\r\nconst CheckoutStep = (props) => {\r\n\treturn (\r\n\t\t<div className='checkoutStep'>\r\n\t\t\t<div\r\n\t\t\t\tonClick={props.onClick}\r\n\t\t\t\tclassName={`checkoutHeader ${props.active && 'active'}`}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span className='stepNumber'>{props.stepNumber}</span>\r\n\t\t\t\t\t<span className='stepTitle'>{props.title}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{props.body && props.body}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst CheckoutPage = (props) => {\r\n\tconst user = useSelector((state) => state.user);\r\n\tconst auth = useSelector((state) => state.auth);\r\n\tconst dispatch = useDispatch();\r\n\tconst [newAddress, setNewAddress] = useState(false);\r\n\tconst [address, setAddress] = useState([]);\r\n\tconst [confirmAddress, setConfirmAddress] = useState(false);\r\n\tconst [selectedAddress, setSelectedAddress] = useState(null);\r\n\r\n\tconst onAddressSubmit = () => {};\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst selectAddress = (addr) => {\r\n\t\tconsole.log(addr);\r\n\t\tconst updatedAddress = address.map((adr) =>\r\n\t\t\tadr._id === addr._id\r\n\t\t\t\t? { ...adr, selected: true }\r\n\t\t\t\t: { ...adr, selected: false },\r\n\t\t);\r\n\t\tsetAddress(updatedAddress);\r\n\t};\r\n\r\n\tconst confirmDeliverAddress = (addr) => {\r\n\t\tsetSelectedAddress(addr);\r\n\t\tsetConfirmAddress(true);\r\n\t};\r\n\r\n\tconst enableAddressEditForm = (addr) => {\r\n\t\tconst updatedAddress = address.map((adr) =>\r\n\t\t\tadr._id === addr._id ? { ...adr, edit: true } : { ...adr, edit: false },\r\n\t\t);\r\n\t\tsetAddress(updatedAddress);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tauth.authenticate && dispatch(getAddress());\r\n\t}, [auth.authenticate]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst address = user.address.map((adr) => ({\r\n\t\t\t...adr,\r\n\t\t\tselected: false,\r\n\t\t\tedit: false,\r\n\t\t}));\r\n\t\tsetAddress(address);\r\n\t}, [user.address]);\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<div className='cartContainer' style={{ alignItems: 'flex-start' }}>\r\n\t\t\t\t<div className='checkoutContainer'>\r\n\t\t\t\t\t<CheckoutStep\r\n\t\t\t\t\t\tstepNumber={'1'}\r\n\t\t\t\t\t\ttitle={'Login'}\r\n\t\t\t\t\t\tactive={!auth.authenticate}\r\n\t\t\t\t\t\tbody={\r\n\t\t\t\t\t\t\tauth.authenticate ? (\r\n\t\t\t\t\t\t\t\t<div className='loggedInId'>\r\n\t\t\t\t\t\t\t\t\t<span style={{ fontWeight: 500 }}>{auth.user.fullName}</span>\r\n\t\t\t\t\t\t\t\t\t<span style={{ fontWeight: 500 }}>{auth.user.email}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<MaterialInput label='Email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<CheckoutStep\r\n\t\t\t\t\t\tstepNumber={'2'}\r\n\t\t\t\t\t\ttitle={'DELIVERY ADDRESS'}\r\n\t\t\t\t\t\tactive={!confirmAddress}\r\n\t\t\t\t\t\tbody={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{confirmAddress\r\n\t\t\t\t\t\t\t\t\t? 'We are going to show address'\r\n\t\t\t\t\t\t\t\t\t: address.map((adr) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='flexRow addressContainer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='flexRow sb addressInfo'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => selectAddress(adr)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='address'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flexRow sb addressinfo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='addressName'>{adr.name}</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='addressType'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{adr.addressType}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span classname='addressMobileNumber'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{adr.mobileNumber}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{adr.address}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{adr.selected && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='EDIT'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => enableAddressEditForm(adr)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: '500', color: '#2874f0' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='fullAddress'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{adr.address} <br />{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${adr.state} - ${adr.pinCode}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{adr.selected && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MaterialButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='DELIVERY HERE'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => confirmDeliverAddress(adr)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '250px  ',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t  ))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{confirmAddress ? null : newAddress ? (\r\n\t\t\t\t\t\t<AddressForm onSubmitForm={onAddressSubmit} onCancel={() => {}} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<CheckoutStep\r\n\t\t\t\t\t\t\tstepNumber='+'\r\n\t\t\t\t\t\t\ttitle='ADD NEW ADDRESS'\r\n\t\t\t\t\t\t\tactive={false}\r\n\t\t\t\t\t\t\tonClick={() => setNewAddress(true)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<CheckoutStep stepNumber={'3'} title={'ORDER SUMMARY'} />\r\n\r\n\t\t\t\t\t<CheckoutStep stepNumber={'4'} title={'PAYMENT OPTIONS '} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<PriceDetails\r\n\t\t\t\t\ttotalItem={Object.keys(cart.cartItems).reduce(function (qty, key) {\r\n\t\t\t\t\t\treturn qty + cart.cartItems[key].qty;\r\n\t\t\t\t\t}, 0)}\r\n\t\t\t\t\ttotalPrice={Object.keys(cart.cartItems).reduce((totalPrice, key) => {\r\n\t\t\t\t\t\tconst { price, qty } = cart.cartItems[key];\r\n\t\t\t\t\t\treturn totalPrice + price * qty;\r\n\t\t\t\t\t}, 0)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default CheckoutPage;\r\n"]},"metadata":{},"sourceType":"module"}