{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { cartConstants } from './constant';\nimport store from '../store';\nexport var addToCart = function addToCart(product) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var cartItems, qty;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cartItems = store.getState().cart.cartItems; // console.log('action::products', products);\n\n              qty = cartItems[product._id] ? parseInt(cartItems[product._id].qty + 1) : cartItems[product._id] = _objectSpread({}, product, {\n                qty: qty\n              }); // localStorage.setItem('cart', JSON.stringify(products));\n\n              dispatch({\n                type: cartConstants.ADD_TO_CART_REQUEST,\n                payload: {\n                  cartItems: _defineProperty({}, product._id, product)\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/development/Desktop/josebek store/frontend-app/src/actions/cart.action.js"],"names":["cartConstants","store","addToCart","product","dispatch","cartItems","getState","cart","qty","_id","parseInt","type","ADD_TO_CART_REQUEST","payload"],"mappings":";;;;AAAA,SAASA,aAAT,QAA8B,YAA9B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,OAAD,EAAa;AACrC;AAAA,wEAAO,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACEC,cAAAA,SADF,GACgBJ,KAAK,CAACK,QAAN,GAAiBC,IADjC,CACEF,SADF,EAEN;;AAEMG,cAAAA,GAJA,GAIMH,SAAS,CAACF,OAAO,CAACM,GAAT,CAAT,GAAyBC,QAAQ,CAACL,SAAS,CAACF,OAAO,CAACM,GAAT,CAAT,CAAuBD,GAAvB,GAA6B,CAA9B,CAAjC,GAAoEH,SAAS,CAACF,OAAO,CAACM,GAAT,CAAT,qBACzEN,OADyE;AAE5EK,gBAAAA,GAAG,EAAHA;AAF4E,gBAJ1E,EASN;;AACAJ,cAAAA,QAAQ,CAAC;AACRO,gBAAAA,IAAI,EAAEX,aAAa,CAACY,mBADZ;AAERC,gBAAAA,OAAO,EAAE;AAAER,kBAAAA,SAAS,sBAAKF,OAAO,CAACM,GAAb,EAAoBN,OAApB;AAAX;AAFD,eAAD,CAAR;;AAVM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAeA,CAhBM","sourcesContent":["import { cartConstants } from './constant';\r\nimport store from '../store';\r\n\r\nexport const addToCart = (product) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst { cartItems } = store.getState().cart;\r\n\t\t// console.log('action::products', products);\r\n\r\n\t const qty = cartItems[product._id] ? parseInt(cartItems[product._id].qty + 1) : cartItems[product._id] = {\r\n\t\t    ...product,\r\n\t\t    qty\r\n\t\t};\r\n\r\n\t\t// localStorage.setItem('cart', JSON.stringify(products));\r\n\t\tdispatch({\r\n\t\t\ttype: cartConstants.ADD_TO_CART_REQUEST,\r\n\t\t\tpayload: { cartItems: { [product._id] : product } },\r\n\t\t});\r\n\t};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}