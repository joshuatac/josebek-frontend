{"ast":null,"code":"import axios from 'axios';\nimport store from '../store';\nimport { api } from '../urlConfig';\nvar token = window.localStorage.getItem('token');\nvar axiosInstance = axios.create({\n  baseURL: api,\n  headers: {\n    \"Authorization\": token ? \"Bearer \".concat(token) : ''\n  }\n});\naxiosInstance.interceptors.request.use(function (req) {\n  var _store$getState = store.getState(),\n      auth = _store$getState.auth;\n\n  if (auth.token) {\n    req.headers.Authorization = \"Bearer \".concat(auth.token);\n  }\n\n  return req;\n});\naxiosInstance.interceptors.response.use(function (res) {\n  return res;\n}, function (error) {\n  console.log(error.response);\n  var status = error.response ? error.response : 500;\n});\nexport default axiosInstance;","map":{"version":3,"sources":["C:/Users/development/Desktop/josebek store/frontend-app/src/helpers/axios.js"],"names":["axios","store","api","token","window","localStorage","getItem","axiosInstance","create","baseURL","headers","interceptors","request","use","req","getState","auth","Authorization","response","res","error","console","log","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,GAAT,QAAoB,cAApB;AAEA,IAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;AAEA,IAAMC,aAAa,GAAGP,KAAK,CAACQ,MAAN,CAAa;AAClCC,EAAAA,OAAO,EAAEP,GADyB;AAElCQ,EAAAA,OAAO,EAAE;AACP,qBAAiBP,KAAK,oBAAaA,KAAb,IAAuB;AADtC;AAFyB,CAAb,CAAtB;AAOAI,aAAa,CAACI,YAAd,CAA2BC,OAA3B,CAAmCC,GAAnC,CAAuC,UAACC,GAAD,EAAS;AAAA,wBAChCb,KAAK,CAACc,QAAN,EADgC;AAAA,MACxCC,IADwC,mBACxCA,IADwC;;AAE/C,MAAIA,IAAI,CAACb,KAAT,EAAgB;AACfW,IAAAA,GAAG,CAACJ,OAAJ,CAAYO,aAAZ,oBAAsCD,IAAI,CAACb,KAA3C;AACA;;AACD,SAAOW,GAAP;AACA,CAND;AAQAP,aAAa,CAACI,YAAd,CAA2BO,QAA3B,CAAoCL,GAApC,CACC,UAACM,GAAD,EAAS;AACR,SAAOA,GAAP;AACA,CAHF,EAIC,UAACC,KAAD,EAAU;AACTC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACF,QAAlB;AACA,MAAMK,MAAM,GAAGH,KAAK,CAACF,QAAN,GAAiBE,KAAK,CAACF,QAAvB,GAAkC,GAAjD;AACA,CAPF;AAWA,eAAeX,aAAf","sourcesContent":["import axios from 'axios';\r\nimport store from '../store';\r\nimport { api } from '../urlConfig';\r\n\r\nconst token = window.localStorage.getItem('token');\r\n\r\nconst axiosInstance = axios.create({\r\n\tbaseURL: api,\r\n\theaders: {\r\n\t  \"Authorization\": token ? `Bearer ${token}` : ''\r\n\t}\r\n});\r\n\r\naxiosInstance.interceptors.request.use((req) => {\r\n\tconst {auth} = store.getState();\r\n\tif (auth.token) {\r\n\t\treq.headers.Authorization = `Bearer ${auth.token}`;\r\n\t}\r\n\treturn req;\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n\t(res) => {\r\n\t\treturn res;\r\n\t},\r\n\t(error) =>{\r\n\t\tconsole.log(error.response);\r\n\t\tconst status = error.response ? error.response : 500;\r\n\t}\r\n)\r\n\r\n\r\nexport default axiosInstance"]},"metadata":{},"sourceType":"module"}