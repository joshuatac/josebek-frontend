{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\development\\\\Desktop\\\\josebek store\\\\frontend-app\\\\src\\\\containers\\\\CheckoutPage\\\\AddressForm.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addAddress } from '../../actions';\nimport { MaterialButton, MaterialInput } from '../../components/MaterialUI';\n/**\r\n * @author\r\n * @function AddressForm\r\n **/\n\nvar AddressForm = function AddressForm(props) {\n  var _props = _slicedToArray(props, 1),\n      initialData = _props[0];\n\n  var _useState = useState(initialData ? initialData.name : ''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(initialData ? initialData.mobileNumber : ''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mobileNumber = _useState4[0],\n      setMobileNumber = _useState4[1];\n\n  var _useState5 = useState(initialData ? initialData.pinCode : ''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pinCode = _useState6[0],\n      setPinCode = _useState6[1];\n\n  var _useState7 = useState(initialData ? initialData.locality : ''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      locality = _useState8[0],\n      setLocality = _useState8[1];\n\n  var _useState9 = useState(initialData ? initialData.address : ''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      address = _useState10[0],\n      setAddress = _useState10[1];\n\n  var _useState11 = useState(initialData ? initialData.cityDistrictTown : ''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      cityDistrictTown = _useState12[0],\n      setCityDistrictTown = _useState12[1];\n\n  var _useState13 = useState(initialData ? initialData.landmark : ''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      landmark = _useState14[0],\n      setLandmark = _useState14[1];\n\n  var _useState15 = useState(initialData ? initialData.alternatePhone : ''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      alternatePhone = _useState16[0],\n      setAlternatePhone = _useState16[1];\n\n  var _useState17 = useState(initialData ? initialData.addressType : ''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      addressType = _useState18[0],\n      setAddressType = _useState18[1];\n\n  var _useState19 = useState(initialData ? initialData.state : ''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      state = _useState20[0],\n      setState = _useState20[1];\n\n  var dispatch = useDispatch();\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      submitFlag = _useState22[0],\n      setSubmitFlag = _useState22[1];\n\n  var _useState23 = useState(initialData ? initialData._id : \"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      id = _useState24[0],\n      setId = _useState24[1];\n\n  var inputContainer = {\n    width: '100%',\n    marginRight: 10\n  };\n\n  var onAddressSubmit = function onAddressSubmit(e) {\n    var payload = {\n      address: {\n        name: name,\n        mobileNumber: mobileNumber,\n        pinCode: pinCode,\n        locality: locality,\n        address: address,\n        cityDistrictTown: cityDistrictTown,\n        state: state,\n        landmark: landmark,\n        alternatePhone: alternatePhone,\n        addressType: addressType\n      }\n    };\n    console.log(payload);\n\n    if (id) {\n      payload.address._id = id;\n    }\n\n    dispatch(addAddress(payload));\n    setSubmitFlag(true);\n  };\n\n  useEffect(function () {\n    console.log(\"addressCount\", user.address);\n\n    if (submitFlag) {\n      console.log(\"where are we\", user);\n      var _address = {};\n\n      if (id) {\n        _address = {\n          _id: id,\n          name: name,\n          mobileNumber: mobileNumber,\n          pinCode: pinCode,\n          locality: locality,\n          address: address,\n          cityDistrictTown: cityDistrictTown,\n          state: state,\n          landmark: landmark,\n          alternatePhone: alternatePhone,\n          addressType: addressType\n        };\n      } else {\n        _address = user.address.slice(user.address.length - 1)[0];\n      }\n\n      props.onSubmitForm(_address);\n    }\n  }, [user.address]);\n\n  var renderAddressForm = function renderAddressForm() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Name\",\n      value: name,\n      onChange: function onChange(e) {\n        return setName(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"10-digit mobile number\",\n      value: mobileNumber,\n      onChange: function onChange(e) {\n        return setMobileNumber(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Pincode\",\n      value: pinCode,\n      onChange: function onChange(e) {\n        return setPinCode(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Locality\",\n      value: locality,\n      onChange: function onChange(e) {\n        return setLocality(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Address\",\n      value: address,\n      onChange: function onChange(e) {\n        return setAddress(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"City/District/Town\",\n      value: cityDistrictTown,\n      onChange: function onChange(e) {\n        return setCityDistrictTown(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"State\",\n      value: state,\n      onChange: function onChange(e) {\n        return setState(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Landmark (Optional)\",\n      value: landmark,\n      onChange: function onChange(e) {\n        return setLandmark(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: inputContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MaterialInput, {\n      label: \"Alternate Phone (Optional)\",\n      value: alternatePhone,\n      onChange: function onChange(e) {\n        return setAlternatePhone(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, \"Address Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      onClick: function onClick() {\n        return setAddressType(\"home\");\n      },\n      name: \"addressType\",\n      value: \"home\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      onClick: function onClick() {\n        return setAddressType(\"work\");\n      },\n      name: \"addressType\",\n      value: \"work\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    }, \"Work\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRow\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MaterialButton, {\n      title: \"SAVE AND DELIVER HERE\",\n      onClick: onAddressSubmit,\n      style: {\n        width: \"250px\",\n        margin: \"20px 0\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    })));\n  };\n\n  if (props.withoutLayout) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 16\n      }\n    }, renderAddressForm());\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkoutStep\",\n    style: {\n      background: '#f5faff'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkoutHeader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stepNumber\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 6\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stepTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 6\n    }\n  }, 'ADD NEW ADDRESS'))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '0 60px',\n      paddingBottom: '20px',\n      boxSizing: 'border-box'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 4\n    }\n  }, renderAddressForm()));\n};\n\nexport default AddressForm;","map":{"version":3,"sources":["C:/Users/development/Desktop/josebek store/frontend-app/src/containers/CheckoutPage/AddressForm.js"],"names":["React","useEffect","useState","useDispatch","useSelector","addAddress","MaterialButton","MaterialInput","AddressForm","props","initialData","name","setName","mobileNumber","setMobileNumber","pinCode","setPinCode","locality","setLocality","address","setAddress","cityDistrictTown","setCityDistrictTown","landmark","setLandmark","alternatePhone","setAlternatePhone","addressType","setAddressType","state","setState","dispatch","user","submitFlag","setSubmitFlag","_id","id","setId","inputContainer","width","marginRight","onAddressSubmit","e","payload","console","log","_address","slice","length","onSubmitForm","renderAddressForm","target","value","margin","withoutLayout","background","padding","paddingBottom","boxSizing"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addAddress } from '../../actions';\r\nimport { MaterialButton, MaterialInput } from '../../components/MaterialUI';\r\n\r\n/**\r\n * @author\r\n * @function AddressForm\r\n **/\r\n\r\nconst AddressForm = (props) => {\r\n    const [initialData] = props;\r\n\tconst [name, setName] = useState(initialData ? initialData.name : '');\r\n\tconst [mobileNumber, setMobileNumber] = useState(initialData ? initialData.mobileNumber : '');\r\n\tconst [pinCode, setPinCode] = useState(initialData ? initialData.pinCode : '');\r\n\tconst [locality, setLocality] = useState(initialData ? initialData.locality : '');\r\n\tconst [address, setAddress] = useState(initialData ? initialData.address : '');\r\n\tconst [cityDistrictTown, setCityDistrictTown] = useState(initialData ? initialData.cityDistrictTown : '');\r\n\tconst [landmark, setLandmark] = useState(initialData ? initialData.landmark : '');\r\n\tconst [alternatePhone, setAlternatePhone] = useState(initialData ? initialData.alternatePhone : '');\r\n\tconst [addressType, setAddressType] = useState(initialData ? initialData.addressType : '');\r\n\tconst [state, setState] = useState(initialData ? initialData.state : '');\r\n    \r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user);   \r\n    const [submitFlag, setSubmitFlag] = useState(false);\r\n    const [id, setId] = useState(initialData ? initialData._id : \"\")\r\n\t\r\n\r\n\tconst inputContainer = {\r\n\t\twidth: '100%',\r\n\t\tmarginRight: 10,\r\n\t};\r\n\r\n\tconst onAddressSubmit = (e) => {\r\n\t\tconst payload = {\r\n\t\t\taddress: {\r\n\t\t\t\tname,\r\n\t\t\t\tmobileNumber,\r\n\t\t\t\tpinCode,\r\n\t\t\t\tlocality,\r\n\t\t\t\taddress,\r\n\t\t\t\tcityDistrictTown,\r\n\t\t\t\tstate,\r\n\t\t\t\tlandmark,\r\n\t\t\t\talternatePhone,\r\n\t\t\t\taddressType,\r\n\t\t\t},\r\n\t\t};\r\n        console.log(payload);\r\n        if(id){\r\n            payload.address._id = id;\r\n        }\r\n        dispatch(addAddress(payload));\r\n        setSubmitFlag(true);\r\n    };\r\n    useEffect(() => {\r\n        console.log(\"addressCount\", user.address);\r\n        if (submitFlag) {\r\n            console.log(\"where are we\", user);\r\n            let _address = {};\r\n            if (id) {\r\n                _address = {\r\n                    _id: id,\r\n                    name,\r\n\t\t\t\tmobileNumber,\r\n\t\t\t\tpinCode,\r\n\t\t\t\tlocality,\r\n\t\t\t\taddress,\r\n\t\t\t\tcityDistrictTown,\r\n\t\t\t\tstate,\r\n\t\t\t\tlandmark,\r\n\t\t\t\talternatePhone,\r\n\t\t\t\taddressType,\r\n                }\r\n            }\r\n        else {\r\n            _address = user.address.slice(user.address.length - 1)[0];\r\n        }\r\n\r\n        props.onSubmitForm(_address);\r\n    }\r\n}, [user.address]);\r\n\r\n    const renderAddressForm = () => {\r\n        return (\r\n          <>\r\n            <div className=\"flexRow\">\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Name\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"10-digit mobile number\"\r\n                  value={mobileNumber}\r\n                  onChange={(e) => setMobileNumber(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flexRow\">\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Pincode\"\r\n                  value={pinCode}\r\n                  onChange={(e) => setPinCode(e.target.value)}\r\n                />\r\n              </div>\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Locality\"\r\n                  value={locality}\r\n                  onChange={(e) => setLocality(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flexRow\">\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Address\"\r\n                  value={address}\r\n                  onChange={(e) => setAddress(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n    \r\n            <div className=\"flexRow\">\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"City/District/Town\"\r\n                  value={cityDistrictTown}\r\n                  onChange={(e) => setCityDistrictTown(e.target.value)}\r\n                />\r\n              </div>\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"State\"\r\n                  value={state}\r\n                  onChange={(e) => setState(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flexRow\">\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Landmark (Optional)\"\r\n                  value={landmark}\r\n                  onChange={(e) => setLandmark(e.target.value)}\r\n                />\r\n              </div>\r\n              <div style={inputContainer}>\r\n                <MaterialInput\r\n                  label=\"Alternate Phone (Optional)\"\r\n                  value={alternatePhone}\r\n                  onChange={(e) => setAlternatePhone(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label>Address Type</label>\r\n              <div className=\"flexRow\">\r\n                <div>\r\n                  <input\r\n                    type=\"radio\"\r\n                    onClick={() => setAddressType(\"home\")}\r\n                    name=\"addressType\"\r\n                    value=\"home\"\r\n                  />\r\n                  <span>Home</span>\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"radio\"\r\n                    onClick={() => setAddressType(\"work\")}\r\n                    name=\"addressType\"\r\n                    value=\"work\"\r\n                  />\r\n                  <span>Work</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flexRow\">\r\n              <MaterialButton\r\n                title=\"SAVE AND DELIVER HERE\"\r\n                onClick={onAddressSubmit}\r\n                style={{\r\n                  width: \"250px\",\r\n                  margin: \"20px 0\",\r\n                }}\r\n              />\r\n            </div>\r\n          </>\r\n        );\r\n      };\r\n    \r\n      if (props.withoutLayout) {\r\n        return <div>{renderAddressForm()}</div>;\r\n      }\r\n    \r\n\r\n    \r\n\treturn (\r\n\t\t<div className='checkoutStep' style={{ background: '#f5faff' }}>\r\n\t\t\t<div className={`checkoutHeader`}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span className='stepNumber'>+</span>\r\n\t\t\t\t\t<span className='stepTitle'>{'ADD NEW ADDRESS'}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tpadding: '0 60px',\r\n\t\t\t\t\tpaddingBottom: '20px',\r\n\t\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n                {renderAddressForm()}\r\n            </div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AddressForm;\r\n"]},"metadata":{},"sourceType":"module"}